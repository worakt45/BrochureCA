<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ö‡∏£‡∏ä‡∏±‡∏ß‡∏£‡πå‡∏Ç‡∏≤‡∏¢‡∏ö‡πâ‡∏≤‡∏ô (Brochure Builder)</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome & Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Sarabun', sans-serif; }
        
        /* Custom Range Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px; width: 16px;
            border-radius: 50%; background: #3b82f6;
            margin-top: -6px; cursor: pointer;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 4px;
            cursor: pointer; background: #e5e7eb; border-radius: 2px;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

        @media print {
            @page { size: A3 portrait; margin: 0; }
            body { background: white; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            .no-print { display: none !important; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef } = React;

        // --- ICON COMPONENTS ---
        const IconBase = ({ size = 24, className = "", children, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                {children}
            </svg>
        );

        const Home = (props) => <IconBase {...props}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></IconBase>;
        const Star = (props) => <IconBase {...props}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></IconBase>;
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>;
        const Gift = (props) => <IconBase {...props}><polyline points="20 12 20 22 4 22 4 12"/><rect width="20" height="5" x="2" y="7"/><line x1="12" x2="12" y1="22" y2="7"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/></IconBase>;
        const Phone = (props) => <IconBase {...props}><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></IconBase>;
        const MapPin = (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>;
        const Printer = (props) => <IconBase {...props}><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect width="12" height="8" x="6" y="14"/></IconBase>;
        const ImageIcon = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></IconBase>;
        const Settings = (props) => <IconBase {...props}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></IconBase>;

        // --- SUB COMPONENT: Image Control ---
        const ImageControl = ({ label, imageKey, imageData, onUpload, onUpdateSetting }) => {
            const [isOpen, setIsOpen] = useState(false);

            return (
                <div className="border border-gray-200 rounded-lg p-3 bg-white">
                    <div className="flex justify-between items-center mb-2">
                        <label className="text-sm font-bold text-gray-700">{label}</label>
                        <button onClick={() => setIsOpen(!isOpen)} className="text-gray-500 hover:text-blue-600 text-xs flex items-center gap-1">
                             <Settings size={14}/> {isOpen ? '‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á' : '‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á/‡∏Ç‡∏ô‡∏≤‡∏î'}
                        </button>
                    </div>
                    
                    <input 
                        type="file" 
                        accept="image/*" 
                        onChange={(e) => onUpload(e, imageKey)} 
                        className="block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer mb-2" 
                    />

                    {isOpen && (
                        <div className="bg-gray-50 p-3 rounded text-xs space-y-3 animate-fade-in">
                            <div>
                                <div className="flex justify-between mb-1 text-gray-500"><span>‡∏Ç‡∏ô‡∏≤‡∏î (Zoom)</span><span>{imageData.scale}x</span></div>
                                <input 
                                    type="range" min="1" max="3" step="0.1" 
                                    value={imageData.scale} 
                                    onChange={(e) => onUpdateSetting(imageKey, 'scale', parseFloat(e.target.value))}
                                    className="w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                                />
                            </div>
                            <div>
                                <div className="flex justify-between mb-1 text-gray-500"><span>‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤ (X)</span><span>{imageData.x}%</span></div>
                                <input 
                                    type="range" min="0" max="100" 
                                    value={imageData.x} 
                                    onChange={(e) => onUpdateSetting(imageKey, 'x', parseInt(e.target.value))}
                                    className="w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                                />
                            </div>
                            <div>
                                <div className="flex justify-between mb-1 text-gray-500"><span>‡∏ö‡∏ô-‡∏•‡πà‡∏≤‡∏á (Y)</span><span>{imageData.y}%</span></div>
                                <input 
                                    type="range" min="0" max="100" 
                                    value={imageData.y} 
                                    onChange={(e) => onUpdateSetting(imageKey, 'y', parseInt(e.target.value))}
                                    className="w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                                />
                            </div>
                            <button 
                                onClick={() => {
                                    onUpdateSetting(imageKey, 'scale', 1);
                                    onUpdateSetting(imageKey, 'x', 50);
                                    onUpdateSetting(imageKey, 'y', 50);
                                }}
                                className="text-red-500 hover:underline w-full text-center mt-2"
                            >
                                ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°
                            </button>
                        </div>
                    )}
                </div>
            );
        };

        // --- MAIN APP COMPONENT ---
        const BrochureBuilder = () => {
            const [data, setData] = useState({
                headline: "‡∏Ç‡∏≤‡∏¢‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô!",
                subHeadline: "‡∏Å‡∏π‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏¥‡∏ô ‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏ï‡πà‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤ 3 ‡πÅ‡∏™‡∏ô‡∏ö‡∏≤‡∏ó",
                price: "2.79",
                evalPrice: "3.1",
                location: "‡∏ã‡∏≠‡∏¢‡∏Ç‡πâ‡∏≤‡∏á‡∏ß‡∏±‡∏î... (‡∏£‡∏∞‡∏ö‡∏∏‡∏û‡∏¥‡∏Å‡∏±‡∏î)",
                phone: "08x-xxx-xxxx",
                lineId: "@yourlineid",
                images: {
                    main: { url: "LINE_ALBUM_28112568 BE_260128_6.jpg", x: 50, y: 50, scale: 1 },
                    sub1: { url: "LINE_ALBUM__260128_2.jpg", x: 50, y: 50, scale: 1 },
                    sub2: { url: "LINE_ALBUM_28112568 BE_260128_5.jpg", x: 50, y: 50, scale: 1 },
                    sub3: { url: "LINE_ALBUM_28112568 BE_260128_2.jpg", x: 50, y: 50, scale: 1 },
                    qr: { url: "", x: 50, y: 50, scale: 1 }, // Added QR State
                },
                features: [
                    "‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
                    "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏¢ 155 ‡∏ï‡∏£.‡∏°. (22.5 ‡∏ï‡∏£.‡∏ß.)",
                    "2 ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô (Master + ‡πÄ‡∏•‡πá‡∏Å)",
                    "2 ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥ (‡∏ö‡∏ô-‡∏•‡πà‡∏≤‡∏á)",
                    "‡∏à‡∏≠‡∏î‡∏£‡∏ñ‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡∏™‡∏ö‡∏≤‡∏¢",
                    "‡∏ï‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏£‡∏±‡∏ß + ‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤‡πÇ‡∏£‡∏á‡∏£‡∏ñ‡πÅ‡∏•‡πâ‡∏ß"
                ],
                promotions: [
                    "‡∏ü‡∏£‡∏µ! ‡∏Ñ‡πà‡∏≤‡πÇ‡∏≠‡∏ô‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå",
                    "‡∏ü‡∏£‡∏µ! ‡πÅ‡∏≠‡∏£‡πå HomePro 2 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á",
                    "‡∏ü‡∏£‡∏µ! ‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ + ‡πÅ‡∏ó‡∏á‡∏Ñ‡πå‡∏ô‡πâ‡∏≥ Dos",
                    "‡∏ü‡∏£‡∏µ! ‡∏Å‡∏±‡πâ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏±‡πâ‡∏ô‡∏•‡πà‡∏≤‡∏á"
                ]
            });

            const handlePrint = () => window.print();

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setData(prev => ({ ...prev, [name]: value }));
            };

            const handleFeatureChange = (index, value) => {
                const newFeatures = [...data.features];
                newFeatures[index] = value;
                setData(prev => ({ ...prev, features: newFeatures }));
            };

            const handlePromotionChange = (index, value) => {
                const newPromotions = [...data.promotions];
                newPromotions[index] = value;
                setData(prev => ({ ...prev, promotions: newPromotions }));
            };

            const handleImageUpload = (e, key) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setData(prev => ({
                            ...prev,
                            images: {
                                ...prev.images,
                                [key]: { ...prev.images[key], url: reader.result } // Keep existing transform settings
                            }
                        }));
                    };
                    reader.readAsDataURL(file);
                }
            };

            const handleImageSetting = (key, setting, value) => {
                setData(prev => ({
                    ...prev,
                    images: {
                        ...prev.images,
                        [key]: { ...prev.images[key], [setting]: value }
                    }
                }));
            };

            return (
                <div className="flex flex-col lg:flex-row min-h-screen bg-gray-100 font-sans">
                    {/* --- EDITOR PANEL --- */}
                    <div className="w-full lg:w-[400px] xl:w-[450px] shrink-0 p-4 lg:p-6 bg-white shadow-xl z-20 h-auto lg:h-screen lg:overflow-y-auto border-b lg:border-b-0 lg:border-r border-gray-200 no-print">
                        <div className="mb-6 flex justify-between items-center sticky top-0 bg-white py-2 z-10 border-b lg:border-none">
                            <h2 className="text-xl lg:text-2xl font-bold text-gray-800">üõ†Ô∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏ö‡∏£‡∏ä‡∏±‡∏ß‡∏£‡πå</h2>
                            <button onClick={handlePrint} className="flex items-center gap-2 bg-blue-600 text-white px-3 py-1.5 lg:px-4 lg:py-2 rounded-lg hover:bg-blue-700 transition shadow-lg text-sm lg:text-base whitespace-nowrap">
                                <Printer size={18} /> <span className="hidden sm:inline">‡∏û‡∏¥‡∏°‡∏û‡πå / PDF</span><span className="sm:hidden">Print</span>
                            </button>
                        </div>

                        <div className="space-y-6 pb-8 lg:pb-0">
                            {/* Headings */}
                            <div className="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 className="font-bold text-gray-700 mb-3 flex items-center gap-2"><Star size={18}/> ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å</h3>
                                <div className="space-y-3">
                                    <div><label className="block text-sm text-gray-600 mb-1">‡∏û‡∏≤‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà (‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß)</label><input type="text" name="headline" value={data.headline} onChange={handleInputChange} className="w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none" /></div>
                                    <div><label className="block text-sm text-gray-600 mb-1">‡∏Ñ‡∏≥‡πÇ‡∏õ‡∏£‡∏¢‡∏£‡∏≠‡∏á (‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á)</label><input type="text" name="subHeadline" value={data.subHeadline} onChange={handleInputChange} className="w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none" /></div>
                                </div>
                            </div>

                            {/* Price */}
                            <div className="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 className="font-bold text-gray-700 mb-3 flex items-center gap-2"><Gift size={18}/> ‡∏£‡∏≤‡∏Ñ‡∏≤</h3>
                                <div className="grid grid-cols-2 gap-3">
                                    <div><label className="block text-sm text-gray-600 mb-1">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ç‡∏≤‡∏¢ (‡∏•‡∏ö.)</label><input type="text" name="price" value={data.price} onChange={handleInputChange} className="w-full border p-2 rounded font-bold text-red-600" /></div>
                                    <div><label className="block text-sm text-gray-600 mb-1">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô (‡∏•‡∏ö.)</label><input type="text" name="evalPrice" value={data.evalPrice} onChange={handleInputChange} className="w-full border p-2 rounded" /></div>
                                </div>
                            </div>

                            {/* Images with Controls */}
                            <div className="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 className="font-bold text-gray-700 mb-3 flex items-center gap-2"><ImageIcon size={18}/> ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</h3>
                                <div className="space-y-3">
                                    <ImageControl label="‡∏£‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å (Main)" imageKey="main" imageData={data.images.main} onUpload={handleImageUpload} onUpdateSetting={handleImageSetting} />
                                    <div className="grid grid-cols-1 gap-3">
                                        <ImageControl label="‡∏£‡∏π‡∏õ‡∏¢‡πà‡∏≠‡∏¢ 1" imageKey="sub1" imageData={data.images.sub1} onUpload={handleImageUpload} onUpdateSetting={handleImageSetting} />
                                        <ImageControl label="‡∏£‡∏π‡∏õ‡∏¢‡πà‡∏≠‡∏¢ 2" imageKey="sub2" imageData={data.images.sub2} onUpload={handleImageUpload} onUpdateSetting={handleImageSetting} />
                                        <ImageControl label="‡∏£‡∏π‡∏õ‡∏¢‡πà‡∏≠‡∏¢ 3" imageKey="sub3" imageData={data.images.sub3} onUpload={handleImageUpload} onUpdateSetting={handleImageSetting} />
                                    </div>
                                </div>
                            </div>

                            {/* Features */}
                            <div className="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 className="font-bold text-gray-700 mb-3 flex items-center gap-2"><CheckCircle size={18}/> ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡πâ‡∏≤‡∏ô</h3>
                                {data.features.map((feat, idx) => (
                                    <input key={idx} type="text" value={feat} onChange={(e) => handleFeatureChange(idx, e.target.value)} className="w-full border p-2 rounded mb-2 text-sm" />
                                ))}
                            </div>

                            {/* Promotions */}
                            <div className="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 className="font-bold text-gray-700 mb-3 flex items-center gap-2"><Gift size={18}/> ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</h3>
                                {data.promotions.map((promo, idx) => (
                                    <input key={idx} type="text" value={promo} onChange={(e) => handlePromotionChange(idx, e.target.value)} className="w-full border p-2 rounded mb-2 text-sm" />
                                ))}
                            </div>

                            {/* Contact */}
                            <div className="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 className="font-bold text-gray-700 mb-3 flex items-center gap-2"><Phone size={18}/> ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ & ‡∏ó‡∏≥‡πÄ‡∏•</h3>
                                <div className="space-y-3">
                                    <input type="text" name="phone" value={data.phone} onChange={handleInputChange} placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£" className="w-full border p-2 rounded" />
                                    <input type="text" name="lineId" value={data.lineId} onChange={handleInputChange} placeholder="Line ID" className="w-full border p-2 rounded" />
                                    <textarea name="location" value={data.location} onChange={handleInputChange} placeholder="‡∏û‡∏¥‡∏Å‡∏±‡∏î/‡∏ó‡∏≥‡πÄ‡∏•" className="w-full border p-2 rounded h-20" />
                                    
                                    {/* QR Code Upload Section */}
                                    <div className="pt-2 border-t border-gray-200 mt-2">
                                        <label className="block text-sm text-gray-600 mb-2 font-bold">QR Code (Line)</label>
                                        <ImageControl label="‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î QR Code" imageKey="qr" imageData={data.images.qr} onUpload={handleImageUpload} onUpdateSetting={handleImageSetting} />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* --- PREVIEW PANEL --- */}
                    <div className="flex-1 bg-gray-500 overflow-hidden relative flex justify-center items-start print:p-0 print:w-full print:bg-white min-h-[500px] lg:min-h-screen">
                        <div className="w-full h-full overflow-auto flex justify-center p-4 lg:p-8">
                            <div className="transform-origin-top transition-transform duration-300 scale-[0.29] sm:scale-[0.45] md:scale-[0.5] lg:scale-[0.6] xl:scale-[0.75] print:scale-100 print:transform-none">
                                <div className="bg-white shadow-2xl relative flex flex-col print:shadow-none mx-auto" style={{ width: '297mm', minHeight: '420mm' }}>
                                    
                                    {/* Header */}
                                    <div className="bg-blue-900 text-white relative pb-32 pt-12 px-10" style={{ clipPath: 'polygon(0 0, 100% 0, 100% 85%, 0 100%)' }}>
                                        <div className="absolute top-4 right-4 opacity-10"><Home size={160} /></div>
                                        <div className="text-center relative z-10">
                                            <div className="inline-block bg-yellow-400 text-blue-900 font-bold px-6 py-2 rounded-full text-2xl mb-4">
                                                <Star className="inline mr-2 mb-1" size={24}/> ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ó‡∏≠‡∏á ‡∏ô‡∏±‡∏Å‡∏•‡∏á‡∏ó‡∏∏‡∏ô/‡∏Ñ‡∏ô‡∏´‡∏≤‡∏ö‡πâ‡∏≤‡∏ô
                                            </div>
                                            <h1 className="text-7xl font-extrabold mb-4 leading-tight">{data.headline}</h1>
                                            <p className="text-4xl font-light text-yellow-300">{data.subHeadline}</p>
                                        </div>
                                    </div>

                                    {/* Main Image */}
                                    <div className="px-10 -mt-16 relative z-20 h-[450px]">
                                        <div className="w-full h-full bg-gray-200 rounded-2xl overflow-hidden shadow-2xl border-4 border-white relative">
                                            <img 
                                                src={data.images.main.url || "https://placehold.co/800x600?text=Select+Image"} 
                                                alt="Main House" 
                                                className="w-full h-full object-cover transition-all duration-200"
                                                style={{
                                                    objectPosition: `${data.images.main.x}% ${data.images.main.y}%`,
                                                    transform: `scale(${data.images.main.scale})`,
                                                    transformOrigin: 'center center'
                                                }}
                                                onError={(e) => e.target.src = "https://placehold.co/800x600?text=No+Image"} 
                                            />
                                            <div className="absolute bottom-8 right-8 bg-red-600 text-white px-10 py-6 rounded-tl-[3rem] rounded-br-xl shadow-xl transform -rotate-2 border-4 border-white z-10">
                                                <p className="text-2xl opacity-90">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô {data.evalPrice} ‡∏•‡∏ö.</p>
                                                <p className="text-6xl font-extrabold">‡∏Ç‡∏≤‡∏¢ {data.price} ‡∏•‡∏ö.*</p>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Content Body */}
                                    <div className="px-12 py-10 flex-grow flex flex-col gap-10">
                                        <div className="flex gap-10 h-full">
                                            <div className="w-1/2 pt-4">
                                                <h2 className="text-4xl font-bold text-blue-900 mb-8 border-b-8 border-yellow-400 inline-block pb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡πâ‡∏≤‡∏ô</h2>
                                                <ul className="space-y-5">
                                                    {data.features.map((feat, i) => (
                                                        <li key={i} className="flex items-center text-2xl text-gray-700 font-medium">
                                                            <CheckCircle className="text-green-500 mr-4 flex-shrink-0" size={32} />
                                                            {feat}
                                                        </li>
                                                    ))}
                                                </ul>
                                            </div>
                                            <div className="w-1/2 grid grid-cols-2 gap-4">
                                                {['sub1', 'sub2', 'sub3'].map((key, i) => (
                                                    <div key={key} className={`rounded-xl overflow-hidden shadow-md border-2 border-gray-100 h-48 ${i === 2 ? 'col-span-2' : ''}`}>
                                                        <img 
                                                            src={data.images[key].url || "https://placehold.co/400x300?text=No+Image"} 
                                                            className="w-full h-full object-cover transition-all duration-200"
                                                            style={{
                                                                objectPosition: `${data.images[key].x}% ${data.images[key].y}%`,
                                                                transform: `scale(${data.images[key].scale})`,
                                                                transformOrigin: 'center center'
                                                            }}
                                                            alt={`sub-${i}`} 
                                                            onError={(e) => e.target.src = "https://placehold.co/400x300?text=No+Image"} 
                                                        />
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        <div className="bg-blue-50 p-8 rounded-3xl border-l-[12px] border-blue-600 shadow-sm flex items-start mt-4">
                                            <div className="mr-8 pt-2"><Gift size={64} className="text-red-500" /></div>
                                            <div className="flex-1">
                                                <h3 className="text-3xl font-bold text-red-600 mb-4">üî• ‡πÇ‡∏õ‡∏£‡∏Ø ‡πÅ‡∏£‡∏á‡∏™‡πà‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏õ‡∏µ! (‡∏à‡∏≠‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏õ‡∏µ‡∏ô‡∏µ‡πâ)</h3>
                                                <div className="grid grid-cols-2 gap-x-8 gap-y-3">
                                                    {data.promotions.map((promo, i) => (
                                                        <p key={i} className="text-2xl text-gray-800 font-semibold flex items-center">‚úÖ {promo}</p>
                                                    ))}
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Footer */}
                                    <div className="bg-gray-900 text-white p-10 flex items-center justify-between mt-auto">
                                        <div>
                                            <p className="text-3xl text-yellow-400 mb-3 font-bold">‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏¥‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ü‡∏£‡∏µ! ‡∏î‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏™</p>
                                            <div className="text-7xl font-extrabold mb-4 tracking-wider flex items-center gap-4">
                                                <Phone size={64} className="text-green-400" /> {data.phone}
                                            </div>
                                            <div className="text-3xl flex items-center gap-6 opacity-90">
                                                <span className="bg-green-600 px-4 py-1 rounded-lg font-bold">LINE: {data.lineId}</span>
                                                <span>| <MapPin className="inline mb-1 text-red-500"/> {data.location}</span>
                                            </div>
                                        </div>
                                        <div className="bg-white p-3 rounded-xl w-48 h-48 flex items-center justify-center shadow-lg overflow-hidden relative">
                                            {/* QR CODE RENDER LOGIC */}
                                            {data.images.qr.url ? (
                                                <img 
                                                    src={data.images.qr.url} 
                                                    className="w-full h-full object-cover transition-all duration-200"
                                                    style={{
                                                        objectPosition: `${data.images.qr.x}% ${data.images.qr.y}%`,
                                                        transform: `scale(${data.images.qr.scale})`,
                                                        transformOrigin: 'center center'
                                                    }}
                                                    alt="QR Code" 
                                                />
                                            ) : (
                                                <div className="text-center text-gray-800">
                                                    <ImageIcon size={48} className="mx-auto mb-2 opacity-50"/>
                                                    <span className="font-bold text-sm block">‡πÅ‡∏õ‡∏∞ QR Code</span>
                                                    <span className="text-xs text-gray-500">‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</span>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<BrochureBuilder />);
    </script>
</body>
</html>
